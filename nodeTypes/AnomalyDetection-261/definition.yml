fileVersion: 1
id: "261"
isDisabled: false
metadata:
  defaultStorageLocation: null
  error: null
  nodeMetadataSpec: |-
    capitalized: Anomaly Detection
    short: ML_AD
    tagColor: 'blue'
    plural: ML Anomaly Detections

    config:
     
    - groupName: Anomaly Model Input
      items:

        - type: textBox
          displayName: 'Model Instance Name'
          attributeName: 'mname'
          isRequired: true

        - type: toggleButton
          displayName: 'Create Model'
          attributeName: 'Forcecreate'
          default: true

        - type: toggleButton
          displayName: 'Multi-Series'
          attributeName: 'multiseries'
          isRequired: false
          default: false

        - type: columnDropdownSelector
          displayName: 'Series Column'
          attributeName: 'seriescol'
          isRequired: false
          enableIf: "{{ config.multiseries }}"

    # Name of the column containing the timestamps in input data #

        - type: columnDropdownSelector
          displayName: 'Timestamp Column'
          attributeName: 'tscol'
          isRequired: true

    # Name of the column containing the target (dependent value) in input data #

        - type: columnDropdownSelector
          displayName: 'Target Column'
          attributeName: 'tgtcol'
          isRequired: true



        - type: toggleButton
          displayName: 'Config Object'
          attributeName: 'cobject'
          isRequired: false
          default: false

        - type: textBox
          displayName: 'Prediction Interval'
          attributeName: 'predictioninterval'
          enableIf: '{%- if config.cobject %}true{%- else %}false{%- endif %}'
          default: 'ex:0.80(float value)'

    # Training an Anomaly Detection Model with Labeled Data #

        - type: toggleButton
          displayName: 'Supervised Data'
          attributeName: 'spdata'
          default: false
          enableIf: '{%-if config.uspdata %}false{%- else %}true{%- endif %}'

        - type: columnDropdownSelector
          displayName: 'Labeled Column'
          attributeName: 'lcdata'
          default: false
          enableIf: '{%-if config.spdata %}true{%- else %}false{%- endif %}'

    # Detecting Anomalies for a Single Time Series (Unsupervised) #

        - type: toggleButton
          displayName: 'Unsupervised Data'
          attributeName: 'uspdata'
          isRequired: false
          default: false
          enableIf: '{%-if config.spdata %}false{%- else %}true{%- endif %}'

        - displayName: Data that needs to be analyzed can be added by enabling the multi-source toggle below 
          type: label
          enableIf: '{%- if config.spdata or config.uspdata %}true{%- else %}false{%- endif %}'

        - type: multisourceToggle
          attributeName: 'mtoggle'
          default: false
          enableIf: '{%- if config.spdata or config.uspdata %}true{%- else %}false{%- endif %}'

    systemColumns:
    - displayName: "FORECAST"
      attributeName: forecast
      transform: ""
      dataType: FLOAT
      placement: end
      description: 'Generated by ML Anomaly Detection Model'

    - displayName: "LOWER_BOUND"
      attributeName: lower_bound
      transform: ""
      dataType: FLOAT
      placement: end
      description: 'Generated by ML Anomaly Detection Model'

    - displayName: "UPPER_BOUND"
      attributeName: upper_bound
      transform: ""
      dataType: FLOAT
      placement: end
      description: 'Generated by ML Anomaly Detection Model'

    - displayName: "IS_ANOMALY"
      attributeName: anomaly
      transform: ""
      dataType: BOOLEAN
      placement: end
      description: 'Generated by ML Anomaly Detection Model'

    - displayName: "PERCENTILE"
      attributeName: percentile
      transform: ""
      dataType: FLOAT
      placement: end
      description: 'Generated by ML Anomaly Detection Model'

    - displayName: "DISTANCE"
      attributeName: distance
      transform: ""
      dataType: FLOAT
      placement: end
      description: 'Generated by ML Anomaly Detection Model'
name: Anomaly Detection
type: NodeType
