fileVersion: 1
id: "499"
isDisabled: false
metadata:
  defaultStorageLocation: null
  error: null
  nodeMetadataSpec: |-
    capitalized: Cortex search
    short: CSS
    tagColor: "#F6FF3C"
    isDisabled: true
    plural: Dynamic Tables

    deployStrategy: advanced

    config:
      - groupName: General Options
        items: 

        - type: materializationSelector
          default: table
          options:
          - table
          isRequired: true

      - groupName: Cortex serach Options
        items:     
         
        - type: label
          attributeName: note2
          displayName: 
                       "NOTE:
                       \n
                       Ensure the parameter targetWarehouse is added in Workspace and 
                       deployment environment  for successful creation of dynamic table.  
                       Refer documentation for more info"
          enableIf: "{%- if parameters == {} or parameters.targetWarehouse == '' -%} true {%- else -%} false {%- endif -%}"

        - displayName: Warehouse used for Cortex serach service
          attributeName: warehouseName
          type: textBox
          default: dev_wh_xs
          isRequired: true

        - type: tabular
          displayName: 'Lag Specification'
          attributeName: lagSpecification
          columns:
      
          -  type: textBox
             displayName: Time Value
             attributeName: lagValue
             default: 60
             isRequired: false
             
          -  type: dropdownSelector
             displayName: Time Period
             attributeName: lagPeriod
             default: "Minutes"
             options:
             - Seconds
             - Minutes
             - Hours
             - Days
             isRequired: false
             
          isRequired: false
          
      - groupName: Cortex serach Advanced Options
        items:

        - type: dropdownSelector   
          displayName: Initialize
          attributeName: initialize
          default: "ON_CREATE"
          options:
          - ON_CREATE
          - ON_SCHEDULE 
          isRequired: true
       
       
        - type: dropdownSelector   
          displayName: Embedding model
          attributeName: embmodel
          default: "snowflake-arctic-embed-m-v1.5"
          options:
          - snowflake-arctic-embed-m-v1.5
          - snowflake-arctic-embed-l-v2.0
          - voyage-multilingual-2 
          isRequired: false

        - type: columnDropdownSelector
          displayName: Search column
          attributeName: searchcol
          isRequired: false
          
        - type: columnDropdownSelector
          displayName: Attribute column
          attributeName: attrcol
          isRequired: false
        
      - groupName: Preview search Options
        items:

        - type: toggleButton
          displayName: All Columns in the preview 
          attributeName: allcol
          isRequired: false
       
        - type: tabular
          displayName: 'Columns in Target View'
          enableIf: "{%- if config.allcol -%} false {%- else -%} true {%- endif -%}"
          attributeName: colpreview
          columns:

          -  type: columnDropdownSelector
             displayName: Column Name
             attributeName: columnName
             isRequired: false
      
          isRequired: false
        
        - type: toggleButton
          displayName: Apply numeric boost to Search Service
          attributeName: numboost
          isRequired: false

        - type: tabular
          displayName: 'Numeric boosts'
          attributeName: numericboost
          enableIf: "{%- if config.numboost -%} false {%- else -%} true {%- endif -%}"
          columns:

          -  type: columnDropdownSelector
             displayName: Column Name
             attributeName: colname
             isRequired: false
      
          -  type: textBox
             displayName: Weightage
             attributeName: wage
             isRequired: false
      
          isRequired: false

        - type: toggleButton
          displayName: Apply time decay to Search Service
          attributeName: timdec
          isRequired: false

        - type: tabular
          displayName: 'Time decays'
          attributeName: timedecay
          enableIf: "{%- if config.timdec -%} false {%- else -%} true {%- endif -%}"
          columns:

          -  type: columnDropdownSelector
             displayName: Column Name
             attributeName: tcolname
             isRequired: false
      
          -  type: textBox
             displayName: Weightage
             attributeName: twage
             isRequired: false
      
          isRequired: false  
        
        - type: textBox
          displayName: Query
          attributeName: query1
          isRequired: false
        
        
        


        


        
name: Cortex search service
type: NodeType
